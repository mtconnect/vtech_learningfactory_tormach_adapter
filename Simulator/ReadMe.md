# Tormach PCNC-1100 Data Simulator
Because the Virginia Tech team was not able to work with a functioning Tormach milling center, this data simulator was instead developed after discovering that the machine's virtual controller is run through LinuxCNC. The process is very straightforward; the `status_dictionary` variable is initialized as the default, empty, but fully structured LinuxCNC data output that the team was able to scrape from a non-functional Tormach mill; this is the default output of `linuxcnc.stat()` in Python after importing the `linuxcnc` module.  A few other variables are initialized to serve as centerpoints for data smoothing operations. Then, when the `_update_data` method is run on the `dataSimulator` class, specific fields in the LinuxCNC dictionary that should correlate to the Tormach mill's operations are randomized.

## Compatibility

The development team has made every attempt to research LinuxCNC documentation and randomize those variables that seem to align with the Tormach mill operations. Some were quite simple to discern, such as `estop` and `axis`, but others were less clear. If this project continues with an operational Tormach mill, the easiest way to identify which variables in the LinuxCNC status dictionary are actually utilized by the mill's operational software should be to get the operating data by modifying the machine's Python-based operating software with a `linuxcnc.stat()` print or by connecting to the port configured in the linuxcnc configuration files, and then running a differentiation between this data and the placeholder dictionary.

As for hardware compatibility, see `$/Adapter/ReadMe.md` for more context; currently, this adapter simply imports the Simulator module, initializes a dataSimulator class, and runs the `_update_data` method. For real hardware, one would need to remove this import and method call from the Adapter and instead configure a connection to the port defined in the LinuxCNC configuration files. For more information and an example of an MTConnect adapter capable of reading data from LinuxCNC, see the [MTConnect adapter for the PocketNC milling machine](https://github.com/mtconnect/PocketNC_adapter).